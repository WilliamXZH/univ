package math.number.analysis.euler;

/**
 * y'&nbsp;=&nbsp;4x/y-xy,&nbsp;0&lt;x&lt;=2<br/>
 * y(0)&nbsp;=&nbsp;0<br/>
 * <br/>
 * y(n+1)&nbsp;=&nbsp;y(n)+h(4x/y-xy)</br>
 * y(0)&nbsp;=&nbsp0
 */
public class Euler {

	private double stepWith;
	private double upperBound;
	private double lowwerBound;
	private double originalOfY;
	private double originalOfX;

	public Euler(double original, double lowwer, double upper){
		super();
		this.upperBound = upper;
		this.lowwerBound = lowwer;
		this.originalOfY = original;
	}
	
	
	public double getOriginalOfX() {
		return originalOfX;
	}

	public void setOriginalOfX(double originalOfX) {
		this.originalOfX = originalOfX;
	}

	public double getStepWith() {
		return stepWith;
	}

	public void setStepWith(double stepWith) {
		this.stepWith = stepWith;
	}

	public double getUpperBound() {
		return upperBound;
	}


	public void setUpperBound(double upperBound) {
		this.upperBound = upperBound;
	}


	public double getLowwerBound() {
		return lowwerBound;
	}


	public void setLowwerBound(double lowwerBound) {
		this.lowwerBound = lowwerBound;
	}


	public double getOriginalOfY() {
		return originalOfY;
	}


	public void setOriginalOfY(double originalOfY) {
		this.originalOfY = originalOfY;
	}

	private double getNextY(double x, double y){
		if(y==0){
			return 4-x*y;
		}else{
			return 4*x/y-x*y;
		}
	}
	private double getYx(double x){
		return Math.sqrt(4+5*Math.pow(Math.E, -Math.pow(x, 2)));
	}
	
	public void start(){
		double x = originalOfX;
		double y =originalOfY;
		
		String total = "";
		
		for(;x<=upperBound;x+=stepWith){
			double yx = getYx(x);
			Result result = new Result(x, y, yx, yx-y);
			y = getNextY(x, y);
			
			total += result.toString();
		}
		
		System.out.println(total);
	}
}
